; PlatformIO Project Configuration – FaceGuard Pro (ESP32-CAM)
; Board: AI-Thinker ESP32-CAM  |  Framework: Arduino + ESP-IDF

[env:esp32cam]
platform    = espressif32@5.1.0
board       = esp32cam
framework   = arduino, espidf

; ── Partition table ──────────────────────────────────────────────────────────
; Needs more than the default 1.2 MB app space for face recognition libs + HTML
board_build.partitions = partitions/huge_app.csv

; ── Serial monitor ───────────────────────────────────────────────────────────
monitor_speed = 115200
monitor_rts   = 0
monitor_dtr   = 0
monitor_filters = colorize, time

; ── Dependencies ─────────────────────────────────────────────────────────────
lib_deps =
    bblanchon/ArduinoJson @ ^6.21.3
    greiman/Sdfat @ ^2.2.3

; ── Build flags ──────────────────────────────────────────────────────────────
build_flags =
    -D BOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue
    ; Uncomment to enable detailed face-recognition logging:
    ; -D CONFIG_ESP_FACE_DETECT_ENABLED=1
    ; -D CONFIG_ESP_FACE_RECOGNITION_ENABLED=1
    ;
    ; Increase HTTP task stack if you see stack overflows in logs:
    ; -D CONFIG_HTTPD_MAX_REQ_HDR_LEN=1024

; ── Source filter – include both src/ files ───────────────────────────────────
; PlatformIO picks up src/*.cpp automatically.
; If your project uses include/ for headers, set:
; build_src_filter = +<*> -<.git/>

; ── Upload (adjust port as needed) ───────────────────────────────────────────
; upload_port   = COM3
; upload_speed  = 921600
